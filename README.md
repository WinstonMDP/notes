

##1. Введение 
Данные проект представляет собой систему управления заметками (notes), в которой пользователи могут создавать, изменять, помечать тэгами, связывать заметки друг с другом, а также группировать пользователей в группы с определёнными правами доступа к заметкам. Основная цель проекта – разработать реляционную базу данных и набор SQL-запросов, удовлетворяющих функциональным и нефункциональным требованиям, а также продемонстрировать нормализацию данных.
Проект выполнен группой из 4 студентов.

## 2. Функциональные требования

Система должна позволять:
1. Регистрацию новых пользователей (ввод логина и пароля).
2. Аутентификацию (вход) существующих пользователей.
3. Добавление новых заметок (с указанием имени и текста).
4. Изменение существующих заметок (только для их автора или имеющих разрешения).
5. Добавление и изменение тэгов (меток).
6. Присвоение/удаление тэгов у заметок.
7. Связывание заметок (создание ассоциативных связей между ними).
8. Создание групп пользователей, добавление/удаление участников групп.
9. Назначение группам прав доступа на заметки:
   - 0 – чтение
   - 1 – запись
10. Получение списка заметок, на которые у пользователя есть доступ.
11. Получение подробной информации о заметке.
12. Возможность выполнять вышеперечисленные операции через командный интерфейс (CLI).

## 3. Нефункциональные требования 
1. Система должна обеспечивать быструю и надёжную работу при одновременном доступе нескольких пользователей.
2. Данные должны быть нормализованы для избежания аномалий обновления, вставки и удаления.
3. Система должна быть безопасной.
4. Система должна быть масштабируемой, допускающей рост количества пользователей, заметок, групп и т.д.

## 4. ER-диаграмма и описание сущностей

**Сущности:**

- **Note(id, name, text, create_date, modified_date, author_id)**  
  `id`: первичный ключ  
  `name`: имя заметки  
  `text`: содержимое заметки  
  `create_date`: дата создания  
  `modified_date`: дата последнего изменения  
  `author_id`: владелец (внешний ключ на Person.id)

- **Tag(id, name, description)**  
  `id`: первичный ключ  
  `name`: имя тэга  
  `description`: описание тэга

- **Taged(note_id, tag_id)**  
  `note_id`: внешний ключ на Note.id  
  `tag_id`: внешний ключ на Tag.id  
  Составной первичный ключ: (note_id, tag_id)

- **Link(a_note_id, b_note_id)**  
  `a_note_id`: внешний ключ на Note.id  
  `b_note_id`: внешний ключ на Note.id  
  Составной первичный ключ: (a_note_id, b_note_id)  
  Отражает связь между двумя заметками.

- **Person(id, login, password)**  
  `id`: первичный ключ  
  `login`: уникальный логин  
  `password`: хэш пароля

- **Group(id, name, description)**  
  `id`: первичный ключ  
  `name`: имя группы  
  `description`: описание группы

- **Member(group_id, person_id)**  
  `group_id`: внешний ключ на Group.id  
  `person_id`: внешний ключ на Person.id  
  Составной первичный ключ: (group_id, person_id)  
  Определяет принадлежность пользователя к группе.

- **Permission(note_id, group_id, permission)**  
  `note_id`: внешний ключ на Note.id  
  `group_id`: внешний ключ на Group.id  
  `permission`: уровень доступа (0 - чтение, 1 - запись)  
  Составной первичный ключ: (note_id, group_id)

 
# notes
## ER
Note(id, name, text, create_date, modified_date, author_id)

Tag(id, name, description)

Taged(note_id, tag_id)

Link(a_note_id, b_note_id)

Person(id, login, password)

Group(id, name, description)

Member(group_id, person_id)

Permission(note_id, group_id, permission)


## CLI
Если где-то есть add, то подразумевается и delete.
- Регистрация: ``notes up <login> <password>``
- Вход: ``notes in <login> <password>``
- Добавление новой заметки: ``notes add <note_name> <text>``
- Изменение заметки: ``notes modify <note_name> <text>``
- Добавить тэг: ``notes tag add <name> <description>``
- Изменить тэг: ``notes tag modify <tag_name> <new_tag_name> <new_tag_description>``
- Присвоить тэг: ``notes tag <login> <tag_name>``
- Убрать тэг: ``notes untag <login> <tag_name>``
- Добавить связь: ``notes link add <a_note_name> <b_note_name>``
- Создать группу: ``notes group add <name> <description``.
  Тот, кто создал группу, является её первым членом.
- Изменить группу: ``notes group modify <group_name> <new_group_name> <new_group_description>``
- Добавить человека в группу: ``notes member add <group_name> <login>``.
  Ошибка, если тот, кто исполняет операцию, сам не находится в этой группе.
- Добавить право группе: ``notes permission add <group_name> <permission>``
  Ошибка, если у того, кто добавляет право, ни в одной его группе нет большего или равного права на этот файл.

## Права
- 0 - чтение.
- 1 - запись.
